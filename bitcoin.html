<!-- PÁGINA BITCOIN - IDÊNTICA À ABA WALLET -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Exclusive Layer Identity — Sistema Bitcoin</title>
  
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.13.4/dist/ethers.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
  <!-- BIBLIOTECAS BITCOIN REAIS -->
  <script src="https://cdn.jsdelivr.net/npm/bip39@3.0.4/bip39.min.js"></script>
  <script src="https://unpkg.com/bitcoinjs-lib@6.1.7/dist/bitcoinjs-lib.min.js"></script>
  <script src="https://unpkg.com/bip32@3.0.1/bip32.min.js"></script>
  <script src="https://unpkg.com/tiny-secp256k1@2.2.1/lib/index.min.js"></script>
  <!-- CRIPTOGRAFIA NATIVA -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js"></script>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Cinzel:wght@600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  
  <style>
   /* CSS EXATAMENTE IGUAL - NENHUMA ALTERAÇÃO */
   :root{--gold-primary:#D4AF37;--gold-secondary:#F4E4B8;--gold-accent:#B8860B;--gold-dark:#8B6914;--platinum:#E5E4E2;--carbon:#1A1A1A;--obsidian:#0A0A0A;--emerald:#046307;--sapphire:#0F52BA;--ruby:#E0115F;--diamond:#B9F2FF;--transition:all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);--shadow-luxury:0 25px 50px rgba(0, 0, 0, 0.1),0 15px 30px rgba(0, 0, 0, 0.08);--shadow-gold:0 8px 32px rgba(212,175,55,0.25);--gradient-gold:linear-gradient(135deg,#D4AF37 0%,#F4E4B8 50%,#B8860B 100%);--gradient-dark:linear-gradient(135deg,#1A1A1A 0%,#0A0A0A 100%);--gradient-card:linear-gradient(135deg,rgba(212,175,55,0.1) 0%,rgba(244,228,184,0.05) 100%);--wet-mirror:linear-gradient(135deg,rgba(255,255,255,0.1) 0%,rgba(255,255,255,0.05) 25%,rgba(255,255,255,0.15) 50%,rgba(255,255,255,0.05) 75%,rgba(255,255,255,0.1) 100%)}.theme-luxury{--primary-color:#D4AF37;--secondary-color:#F4E4B8;--accent-color:#B8860B;--background-primary:#0A0A0A;--background-secondary:#1A1A1A;--text-primary:#F0F0F0;--text-secondary:#B0B0B0;--container-bg:rgba(26,26,26,0.95);--container-border:rgba(212,175,55,0.3);--card-bg:rgba(30,30,30,0.8);--card-border:rgba(212,175,55,0.2);--success-color:#00C853;--warning-color:#FFD700;--error-color:#FF5252}.theme-light{--primary-color:#D4AF37;--secondary-color:#F4E4B8;--accent-color:#B8860B;--background-primary:#FFFFFF;--background-secondary:#F8F8F8;--text-primary:#1A1A1A;--text-secondary:#555555;--container-bg:rgba(255,255,255,0.95);--container-border:rgba(212,175,55,0.3);--card-bg:rgba(255,255,255,0.9);--card-border:rgba(212,175,55,0.2);--success-color:#00A859;--warning-color:#E6B400;--error-color:#E53935}*{margin:0;padding:0;box-sizing:border-box;font-family:'Inter','Helvetica Neue',Arial,sans-serif}body{background:var(--background-primary);min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px;color:var(--text-primary);transition:var(--transition);font-weight:300;position:relative;overflow-x:hidden}body::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 20% 80%,rgb(212 175 55/.1) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgb(244 228 184/.1) 0%,transparent 50%),radial-gradient(circle at 40% 40%,rgb(184 134 11/.05) 0%,transparent 50%);z-index:-1;animation:backgroundShift 20s ease-in-out infinite alternate}@keyframes backgroundShift{0%{transform:scale(1) rotate(0deg)}100%{transform:scale(1.1) rotate(3deg)}}.wallet-container{width:100%;max-width:95%;background:var(--container-bg);backdrop-filter:blur(40px);padding:40px 30px;box-shadow:var(--shadow-luxury);border:1px solid var(--container-border);position:relative;transition:var(--transition);border-radius:24px;overflow:hidden;animation:containerEntrance 1.2s cubic-bezier(.25,.46,.45,.94)}.wallet-container::before{content:'';position:absolute;top:0;left:0;right:0;height:6px;background:var(--gradient-gold);z-index:2}.wallet-container::after{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(45deg,transparent 65%,rgb(212 175 55/.03) 65%),linear-gradient(-45deg,transparent 65%,rgb(244 228 184/.03) 65%);pointer-events:none;z-index:1}@keyframes containerEntrance{0%{opacity:0;transform:translateY(60px) scale(.95)}100%{opacity:1;transform:translateY(0) scale(1)}}header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:40px;padding-bottom:20px;border-bottom:1px solid rgb(212 175 55/.3);animation:fadeInDown 1s 0.3s both;position:relative;flex-wrap:wrap;gap:20px}header::after{content:'';position:absolute;bottom:-1px;left:0;width:100px;height:2px;background:var(--gradient-gold)}.logo{text-align:center;flex:1;min-width:300px}.logo h1{font-family:'Cinzel',serif;font-size:2.2rem;font-weight:600;letter-spacing:2px;color:var(--text-primary);text-transform:uppercase;position:relative;display:inline-block;text-shadow:0 2px 10px rgb(212 175 55/.3)}.logo h1::after{content:'';position:absolute;bottom:-8px;left:50%;transform:translateX(-50%);width:80px;height:3px;background:var(--gradient-gold);border-radius:2px}.logo span{display:block;font-size:0.8rem;letter-spacing:6px;margin-top:10px;color:var(--text-secondary);font-weight:300}.theme-controls{display:flex;gap:15px;flex-wrap:wrap;justify-content:center}.theme-toggle-btn{background:#fff0;border:1px solid var(--container-border);color:var(--primary-color);padding:12px 20px;cursor:pointer;font-size:0.9rem;display:flex;align-items:center;gap:8px;transition:var(--transition);font-weight:400;letter-spacing:1px;border-radius:10px;min-width:140px;justify-content:center;position:relative;overflow:hidden}.theme-toggle-btn::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgb(212 175 55/.2),transparent);transition:all 0.8s ease}.theme-toggle-btn:hover::before{left:100%}.theme-toggle-btn:hover{border-color:var(--primary-color);background:rgb(212 175 55/.05);transform:translateY(-3px);box-shadow:var(--shadow-gold)}.btn{width:100%;padding:18px;border:none;cursor:pointer;font-size:0.95rem;font-weight:500;letter-spacing:1px;text-transform:uppercase;transition:var(--transition);margin-bottom:12px;border-radius:12px;position:relative;overflow:hidden}.btn::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgb(255 255 255/.4),transparent);transition:all 0.8s ease}.btn:hover::before{left:100%}.btn::after{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:var(--wet-mirror);opacity:0;transition:opacity 0.5s ease;border-radius:12px;z-index:0}.btn:hover::after{opacity:1}.btn-primary{background:var(--gradient-gold);color:#1A1A1A;box-shadow:var(--shadow-gold);font-weight:600;position:relative;z-index:1}.btn-primary:hover{box-shadow:0 15px 40px rgb(212 175 55/.5);transform:translateY(-5px)}.btn-secondary{background:#fff0;color:var(--text-secondary);border:1px solid var(--container-border);box-shadow:0 4px 15px rgb(0 0 0/.1);position:relative;z-index:1}.btn-secondary:hover{border-color:var(--primary-color);color:var(--primary-color);transform:translateY(-3px);box-shadow:var(--shadow-gold)}.btn-small{width:auto;padding:12px 20px;font-size:0.85rem}.btn-success{background:linear-gradient(135deg,var(--success-color),#00E676);color:#fff;box-shadow:0 8px 25px rgb(0 200 83/.4)}.btn-success:hover{box-shadow:0 12px 30px rgb(0 200 83/.6)}.restore-mnemonic-btn{background:#fff0;border:1px solid var(--container-border);color:var(--text-secondary);padding:8px 12px;cursor:pointer;font-size:0.75rem;transition:var(--transition);border-radius:6px;display:flex;align-items:center;gap:5px;margin-top:10px;position:relative;overflow:hidden}.restore-mnemonic-btn::after{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:var(--wet-mirror);opacity:0;transition:opacity 0.5s ease;border-radius:6px;z-index:0}.restore-mnemonic-btn:hover::after{opacity:1}.restore-mnemonic-btn:hover{border-color:var(--primary-color);color:var(--primary-color);background:rgb(212 175 55/.05)}@keyframes fadeInUp{from{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeInDown{from{opacity:0;transform:translateY(-40px)}to{opacity:1;transform:translateY(0)}}.animate-element{animation:fadeInUp 0.8s cubic-bezier(.25,.46,.45,.94) both}.delay-1{animation-delay:0.1s}.delay-2{animation-delay:0.2s}.delay-3{animation-delay:0.3s}.delay-4{animation-delay:0.4s}.delay-5{animation-delay:0.5s}.wallet-header{text-align:center;margin-bottom:40px}.wallet-header h2{font-family:'Cinzel',serif;font-size:2rem;font-weight:600;letter-spacing:2px;color:var(--text-primary);margin-bottom:15px;position:relative;display:inline-block;text-shadow:0 2px 10px rgb(212 175 55/.3)}.wallet-header h2::after{content:'';position:absolute;bottom:-8px;left:50%;transform:translateX(-50%);width:60px;height:3px;background:var(--gradient-gold);border-radius:2px}.wallet-header p{color:var(--text-secondary);font-size:1rem;max-width:600px;margin:0 auto;line-height:1.6;font-weight:300;letter-spacing:.3px}.balance-container{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:40px 0;padding:40px 30px;border-radius:24px;background:var(--gradient-card);border:1px solid rgb(212 175 55/.2);overflow:hidden;backdrop-filter:blur(20px)}.balance-container::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 30% 30%,rgb(212 175 55/.1) 0%,transparent 50%),radial-gradient(circle at 70% 70%,rgb(244 228 184/.1) 0%,transparent 50%);z-index:-1}.balance-display{position:relative;z-index:1;font-size:2.8rem;font-weight:600;color:var(--primary-color);margin:15px 0;font-family:'Cinzel',serif;text-align:center;text-shadow:0 2px 10px rgb(212 175 55/.3)}.balance-label{position:relative;z-index:1;font-size=0.95rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:2px;margin-top:15px}.balance-brl{font-size:1.8rem;color:var(--success-color);font-weight=500;margin-top:10px;font-family:'Cinzel',serif}.dashboard-grid{display:grid;grid-template-columns:1fr;gap:30px;margin-bottom:40px}.info-card{background:var(--card-bg);padding:30px;border-radius:20px;border:1px solid var(--card-border);transition:var(--transition);animation:slideInUp 1s 0.5s both;position:relative;overflow:hidden;backdrop-filter:blur(20px)}.info-card::before{content:'';position:absolute;top:0;left:0;width:6px;height:100%;background:var(--gradient-gold)}.info-card::after{content:'';position:absolute;top:0;right:0;width:100px;height:100px;background:radial-gradient(circle,rgb(212 175 55/.1) 0%,transparent 70%);z-index:0}.info-card:hover{transform:translateY(-10px);box-shadow:var(--shadow-luxury);border-color:var(--primary-color)}.info-card h3{font-family:'Cinzel',serif;color:var(--primary-color);margin-bottom:20px;font-size:1.5rem;display:flex;align-items:center;gap:10px;font-weight:500;position:relative;z-index:1}.form-row{display:flex;gap:10px;margin-top:15px;flex-wrap:wrap}.address-display{background:rgb(212 175 55/.08);border:1px solid rgb(212 175 55/.2);padding:12px;border-radius:8px;font-family:'Courier New',monospace;font-size=0.9rem;word-break:break-all;margin-bottom:10px}.tab-navigation{display:flex;flex-wrap:wrap;justify-content:center;gap:4px;margin:30px 0 25px 0;background:rgb(212 175 55/.05);padding:6px 10px;border-radius:16px;border:1px solid var(--container-border);backdrop-filter:blur(10px)}.tab-button{background:#fff0;border:1px solid var(--container-border);color:var(--text-secondary);padding:10px 15px;cursor:pointer;font-size=0.85rem;transition:var(--transition);font-weight:500;letter-spacing:1px;border-radius:10px;display:flex;align-items:center;gap:8px;position:relative;overflow:hidden;flex:1 1 auto;min-width:120px;justify-content:center}.tab-button::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgb(212 175 55/.2),transparent);transition:all 0.6s ease}.tab-button:hover::before{left:100%}.tab-button:hover{border-color:var(--primary-color);color:var(--primary-color);transform:translateY(-2px);box-shadow:var(--shadow-gold)}.tab-button.active{background:rgb(212 175 55/.1);border-color:var(--primary-color);color:var(--primary-color);box-shadow:var(--shadow-gold)}.tab-content{display:none;opacity:0;transition:opacity 0.5s ease}.tab-content.active{display:block;opacity:1}.hidden{display:none!important}.fade-out{animation:fadeOut 0.8s cubic-bezier(.25,.46,.45,.94) both}@keyframes fadeOut{from{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-30px)}}.fade-in{animation:fadeIn 0.8s 0.3s cubic-bezier(.25,.46,.45,.94) both}@keyframes fadeIn{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.agenda-container{margin-top:30px}.agenda-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:15px}.agenda-month-nav{display:flex;align-items:center;gap:10px;flex-wrap:wrap}.agenda-month-title{font-family:'Cinzel',serif;font-size:1.2rem;color:var(--primary-color);font-weight:600;min-width:180px;text-align:center}.agenda-calendar{display:grid;grid-template-columns:repeat(7,1fr);gap:3px;margin-bottom:25px;background:rgb(212 175 55/.05);padding:12px;border-radius:12px;border:1px solid var(--container-border)}.agenda-day{background:var(--card-bg);border:1px solid var(--card-border);border-radius:6px;padding:6px;min-height:70px;transition:var(--transition)}.agenda-day:hover{border-color:var(--primary-color);background:rgb(212 175 55/.05);transform:translateY(-3px)}.agenda-day.selected{border:2px solid var(--primary-color);background:var(--wet-mirror);box-shadow:0 0 20px rgb(212 175 55/.3)}.agenda-day-number{font-size=0.9rem;font-weight:600;color:var(--text-primary);margin-bottom:5px}.agenda-day-event{background:var(--gradient-gold);color:var(--carbon);font-size:0.75rem;padding:3px 6px;border-radius:4px;margin-top:3px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight=500}.agenda-event-form{background:var(--card-bg);border:1px solid var(--card-border);border-radius:12px;padding:20px;margin-top:20px}.token-item{display:flex;align-items:center;justify-content:space-between;padding:12px;background:var(--card-bg);border:1px solid var(--card-border);border-radius:12px;margin-bottom:10px;transition:var(--transition);flex-wrap:wrap}.token-item:hover{border-color:var(--primary-color);transform:translateY(-3px);box-shadow:var(--shadow-gold)}.token-info{display:flex;align-items:center;gap:12px;flex:1;min-width:200px}.token-symbol{font-weight:600;color:var(--text-primary)}.token-balance{font-weight:600;color:var(--primary-color)}.address-registration-box{background:var(--card-bg);border:1px solid var(--card-border);border-radius:20px;padding:25px;margin-top:30px;position:relative;overflow:hidden}.address-registration-box::before{content:'';position:absolute;top:0;left:0;width:6px;height:100%;background:var(--gradient-gold)}.address-registration-title{font-family:'Cinzel',serif;color:var(--primary-color);margin-bottom:15px;font-size:1.4rem;display:flex;align-items:center;gap:10px;font-weight=500}.address-instruction{color:var(--text-secondary);font-size=0.95rem;line-height:1.6;margin-bottom:20px}.wallet-address-display{display:flex;align-items:center;justify-content:space-between;background:rgb(212 175 55/.08);border:1px solid rgb(212 175 55/.2);border-radius:8px;padding:12px;margin-bottom:20px;font-family:'Courier New',monospace;flex-wrap:wrap;gap:10px}.address-text{color:var(--text-primary);font-size=0.9rem;word-break:break-all;flex:1}.copy-btn{background:rgb(212 175 55/.1);border:1px solid var(--primary-color);color:var(--primary-color);padding:8px 15px;border-radius:6px;cursor:pointer;font-size=0.85rem;display:flex;align-items:center;gap:8px;transition:var(--transition)}.copy-btn:hover{background:rgb(212 175 55/.2);transform:translateY(-2px)}.verification-status{display:flex;align-items:center;gap:10px;margin:20px 0 25px 0}.status-indicator{width:12px;height:12px;border-radius:50%}.status-indicator.verified{background:var(--success-color);box-shadow:0 0 10px var(--success-color)}.communication-badges{display:flex;flex-wrap:wrap;gap:10px;margin:25px 0}.communication-badge{background:var(--gradient-card);border:1px solid rgb(212 175 55/.2);border-radius:8px;padding:8px 12px;font-size=0.85rem;display:flex;align-items:center;gap:8px;color:var(--text-primary);transition:var(--transition);flex:1 1 auto;min-width:140px}.communication-badge.unlocked{border-color:var(--success-color);background:rgb(0 200 83/.1)}.communication-badge i{color:var(--primary-color)}.communication-badge.unlocked i{color:var(--success-color)}.input-group{margin-bottom:25px}.input-group label{display:block;font-size=0.9rem;margin-bottom:10px;color:var(--text-secondary);letter-spacing:1px;font-weight=400}.input-group input,.input-group textarea,.input-group select{width:100%;padding:15px 18px;border:1px solid var(--container-border);background:var(--card-bg);font-size:1rem;color:var(--text-primary);transition:var(--transition);border-radius:12px;font-weight:300;backdrop-filter:blur(10px);resize:vertical;font-family:'Inter',sans-serif}.input-group input:focus,.input-group textarea:focus,.input-group select:focus{outline:none;border-color:var(--primary-color);background:var(--background-secondary);box-shadow:0 0 0 3px rgb(212 175 55/.2)}.notification{position:fixed;top:30px;right:30px;padding:20px 25px;background:var(--container-bg);border:1px solid var(--primary-color);border-radius:16px;color:var(--text-primary);z-index:10000;transform:translateX(500px);transition:transform 0.6s cubic-bezier(.25,.46,.45,.94);box-shadow:var(--shadow-luxury);backdrop-filter:blur(20px);max-width:350px}.notification.show{transform:translateX(0)}.notification::before{content:'';position:absolute;top:0;left:0;width:6px;height:100%;background:var(--gradient-gold)}.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgb(10 10 10/.8);backdrop-filter:blur(10px);display:flex;justify-content:center;align-items:center;z-index:10000;opacity:0;visibility:hidden;transition:var(--transition)}.modal-overlay.active{opacity:1;visibility:visible}.modal-content{background:var(--container-bg);border:1px solid var(--container-border);border-radius:24px;padding:30px;max-width:90%;width:90%;max-height:90vh;overflow-y:auto;position:relative;transform:translateY(50px) scale(.9);opacity:0;transition:var(--transition);box-shadow:var(--shadow-luxury)}.modal-overlay.active .modal-content{transform:translateY(0) scale(1);opacity:1}.modal-content::before{content:'';position:absolute;top:0;left:0;right:0;height:6px;background:var(--gradient-gold);border-radius:24px 24px 0 0}.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;padding-bottom:15px;border-bottom:1px solid var(--container-border);flex-wrap:wrap;gap:15px}.modal-title{font-family:'Cinzel',serif;color:var(--primary-color);font-size:1.5rem;font-weight:600}.modal-close{background:#fff0;border:none;color:var(--text-secondary);font-size:1.5rem;cursor:pointer;transition:var(--transition);width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center}.modal-close:hover{color:var(--primary-color);background:rgb(212 175 55/.1)}.modal-body{margin-bottom:25px}.modal-footer{display:flex;justify-content:flex-end;gap:12px;padding-top:20px;border-top:1px solid var(--container-border);flex-wrap:wrap}.dev-agenda-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:15px;margin-top:20px}.agenda-entry{background:var(--card-bg);border:1px solid var(--card-border);border-radius:12px;padding:18px;transition:var(--transition)}.agenda-entry:hover{border-color:var(--primary-color);transform:translateY(-3px);box-shadow:var(--shadow-gold)}.agenda-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.agenda-title{font-weight:600;color:var(--text-primary);font-size=0.95rem}.agenda-status{font-size:0.75rem;padding:4px 8px;border-radius:12px;font-weight=500;letter-spacing:.5px}.status-completed{background:rgb(0 200 83/.15);color:var(--success-color);border:1px solid var(--success-color)}.status-in-progress{background:rgb(255 215 0/.15);color:var(--warning-color);border:1px solid var(--warning-color)}.status-planning{background:rgb(212 175 55/.15);color:var(--primary-color);border:1px solid var(--primary-color)}.agenda-description{color:var(--text-secondary);font-size=0.85rem;line-height:1.5;margin-bottom:12px}.agenda-footer{display:flex;justify-content:space-between;font-size:0.75rem;color:var(--text-secondary);flex-wrap:wrap}.agenda-wallet{font-family:'Courier New',monospace;color:var(--primary-color)}.sub-tab-navigation{display:flex;gap:4px;margin:20px 0 25px 0;background:rgb(212 175 55/.05);padding:6px 10px;border-radius:16px;border:1px solid var(--container-border);backdrop-filter:blur(10px);flex-wrap:wrap}.sub-tab-btn{background:#fff0;border:1px solid var(--container-border);color:var(--text-secondary);padding:8px 12px;cursor:pointer;font-size=0.8rem;transition:var(--transition);font-weight=500;letter-spacing:.5px;border-radius:8px;display:flex;align-items:center;gap:8px;position:relative;overflow:hidden;flex:1 1 auto;min-width:100px}.sub-tab-btn::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgb(212 175 55/.2),transparent);transition:all 0.6s ease}.sub-tab-btn:hover::before{left:100%}.sub-tab-btn:hover{border-color:var(--primary-color);color:var(--primary-color);transform:translateY(-2px);box-shadow:var(--shadow-gold)}.sub-tab-btn.active{background:rgb(212 175 55/.1);border-color:var(--primary-color);color:var(--primary-color);box-shadow:var(--shadow-gold)}.sub-tab-content{display:block;opacity:1;transition:opacity 0.5s ease}.sub-tab-content.hidden{display:none;opacity:0}.contacts-list-container{max-height:300px;overflow-y:auto;margin:20px 0;border:1px solid var(--card-border);border-radius:12px;padding:12px}.contact-item{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;border-bottom:1px solid var(--card-border);transition:var(--transition);flex-wrap:wrap;gap:10px}.contact-item:hover{background:var(--gradient-card)}.contact-item:last-child{border-bottom:none}.contact-info{display:flex;align-items:center;gap:12px;flex:1;min-width:200px}.contact-actions{display:flex;gap:8px;flex-wrap:wrap}.add-contact-form{margin-top:25px;padding:18px;border:1px solid var(--card-border);border-radius:12px;background:var(--card-bg)}.chat-container{display:flex;flex-direction:column;height:400px;border:1px solid var(--card-border);border-radius:12px;overflow:hidden}.chat-messages{flex:1;overflow-y:auto;padding:15px;background:var(--card-bg)}.chat-input-area{display:flex;gap:10px;padding:12px;border-top:1px solid var(--card-border);background:var(--background-secondary)}.chat-input{flex:1;padding:10px 12px;border:1px solid var(--card-border);border-radius:8px;background:var(--card-bg);color:var(--text-primary);font-size=0.9rem}.message{margin-bottom:12px;padding:8px 12px;border-radius:12px;max-width:90%;word-wrap:break-word}.message-received{background:var(--card-bg);border:1px solid var(--card-border);align-self:flex-start}.message-sent{background:var(--gradient-gold);color:#1A1A1A;align-self:flex-end;margin-left:auto}.message-sender{font-weight:600;font-size:0.8rem;margin-bottom:5px;color:var(--primary-color)}.message-time{font-size:0.7rem;color:var(--text-secondary);margin-top:5px;text-align:right}.video-container{width:100%;height:250px;background:#000;border-radius:12px;overflow:hidden;position:relative;display:flex;align-items:center;justify-content:center;margin-bottom:15px}.video-placeholder{text-align:center;color:#fff}.video-placeholder i{font-size:2.5rem;margin-bottom:10px;color:var(--primary-color)}.video-controls{display:flex;gap:10px;flex-wrap:wrap}.video-call-container{position:relative}.video-call-container video{width:100%;height:100%;object-fit:cover;border-radius:12px}.local-video{position:absolute;bottom:15px;right:15px;width:100px;height:75px;border:2px solid var(--primary-color);border-radius:6px;overflow:hidden;background:#000}.local-video video{width:100%;height:100%;object-fit:cover}.group-video-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:8px;margin-top:15px}.group-video-item{background:#000;border-radius:6px;overflow:hidden;position:relative;aspect-ratio:16/9}.group-video-item video{width:100%;height:100%;object-fit:cover}.group-video-overlay{position:absolute;bottom:5px;left:5px;background:rgb(0 0 0/.7);color:#fff;padding:3px 6px;border-radius:4px;font-size=0.7rem}.info-card:hover::after,.btn:hover::after,.tab-button:hover::after,.sub-tab-btn:hover::after,.theme-toggle-btn:hover::after,.contact-item:hover::after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:var(--wet-mirror);opacity:.6;pointer-events:none;border-radius:inherit;z-index:1}.communication-main-container{background:var(--card-bg);border:1px solid var(--card-border);border-radius:24px;padding:25px;margin-top:20px;min-height:500px;position:relative;overflow:hidden}.communication-main-container::before{content:'';position:absolute;top:0;left:0;width:6px;height:100%;background:var(--gradient-gold)}.authorization-box{background:var(--gradient-card);border:1px solid var(--card-border);border-radius:20px;padding:20px;margin-top:25px;position:relative;overflow:hidden}.authorization-box::before{content:'';position:absolute;top:0;left:0;width:6px;height:100%;background:var(--gradient-gold)}.language-selector-container{position:fixed;bottom:20px;right:20px;z-index:1000}.language-toggle-btn{background:var(--card-bg);border:1px solid var(--primary-color);color:var(--primary-color);width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem;cursor:pointer;transition:var(--transition);box-shadow:var(--shadow-luxury)}.language-toggle-btn:hover{transform:scale(1.1) rotate(15deg);background:rgb(212 175 55/.1)}.language-panel{position:absolute;bottom:60px;right:0;background:var(--container-bg);border:1px solid var(--container-border);border-radius:16px;padding:15px;width:180px;backdrop-filter:blur(20px);box-shadow:var(--shadow-luxury);display:none}.language-panel.active{display:block}.language-panel::before{content:'';position:absolute;top:0;left:0;right:0;height:6px;background:var(--gradient-gold);border-radius:16px 16px 0 0}.language-item{padding:8px;border-bottom:1px solid var(--card-border);cursor:pointer;transition:var(--transition);font-size=0.9rem;display:flex;align-items:center;gap:8px}.language-item:hover{background:var(--gradient-card);color:var(--primary-color)}.language-item:last-child{border-bottom:none}.global-value-display{text-align:center;padding:25px;background:var(--gradient-card);border-radius:24px;border:1px solid rgb(212 175 55/.2);margin-bottom:30px;position:relative;overflow:hidden;backdrop-filter:blur(20px)}.global-value-display::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 30% 30%,rgb(212 175 55/.1) 0%,transparent 50%),radial-gradient(circle at 70% 70%,rgb(244 228 184/.1) 0%,transparent 50%);z-index:-1}.global-value-label{font-size=0.9rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:2px;margin-bottom:8px;font-weight=400}.global-value-amount{font-size:2.5rem;font-weight:600;color:var(--success-color);font-family:'Cinzel',serif;text-shadow:0 2px 10px rgb(0 200 83/.3);margin:12px 0}.token-price-info{font-size=0.8rem;color:var(--text-secondary);display:flex;align-items:center;gap:5px;margin-top:3px;font-weight:300}.token-price-info i{font-size=0.75rem;color:var(--primary-color)}.token-price-source{font-size=0.7rem;color:var(--gold-accent);font-style:italic}.nft-item{display:flex;align-items:center;gap:12px;padding:10px;background:var(--card-bg);border:1px solid var(--card-border);border-radius:10px;margin-bottom:8px;transition:var(--transition);flex-wrap:wrap}.nft-item:hover{border-color:var(--primary-color);transform:translateY(-2px);box-shadow:var(--shadow-gold)}.nft-image{width:50px;height:50px;border-radius:6px;object-fit:cover;border:1px solid var(--container-border)}.nft-info{flex:1;min-width:150px}.nft-name{font-weight:600;font-size=0.9rem;color:var(--text-primary)}.nft-collection{font-size=0.8rem;color:var(--text-secondary);margin-top:2px}.nft-id{font-size=0.75rem;color:var(--primary-color);font-family:'Courier New',monospace}.action-btn-minimal{background:var(--card-bg);border:1px solid var(--card-border);border-radius:10px;padding:12px 8px;cursor:pointer;transition:var(--transition);display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--text-primary);font-size=0.85rem;min-height:70px;flex:1 1 100px}.action-btn-minimal:hover{border-color:var(--primary-color);transform:translateY(-2px);box-shadow:var(--shadow-gold)}.action-btn-minimal i{font-size:1.5rem;color:var(--primary-color);margin-bottom:6px}.action-btn-minimal span{font-size=0.8rem;font-weight=500;letter-spacing:.5px;text-align:center}.export-counter-warning{background:rgb(224 17 95 / .1);border:1px solid var(--error-color);border-radius:8px;padding:10px;margin:12px 0;font-size=0.8rem;color:var(--error-color);text-align:center;display:flex;align-items:center;justify-content:center;gap:6px}.export-counter-warning i{font-size=0.9rem}.legal-text-container{max-height:250px;overflow-y:auto;padding:12px;background:var(--card-bg);border:1px solid var(--card-border);border-radius:8px;margin-bottom:15px;font-size=0.8rem;line-height:1.5;color:var(--text-secondary)}.legal-section-title{font-weight:600;color:var(--primary-color);margin-top:12px;margin-bottom:6px;font-size=0.9rem;font-family:'Cinzel',serif}.wallet-main-container{background:var(--card-bg);border:1px solid var(--card-border);border-radius:24px;padding:25px;margin-top:20px;position:relative;overflow:hidden;backdrop-filter:blur(20px)}.wallet-main-container::before{content:'';position:absolute;top:0;left:0;width:6px;height:100%;background:var(--gradient-gold)}.balance-main-container{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:25px 0;padding:30px;border-radius:24px;background:var(--gradient-card);border:1px solid rgb(212 175 55/.2);overflow:hidden;backdrop-filter:blur(20px)}.balance-main-container::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 30% 30%,rgb(212 175 55/.1) 0%,transparent 50%),radial-gradient(circle at 70% 70%,rgb(244 228 184/.1) 0%,transparent 50%);z-index:-1}.wallet-operations-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:15px;margin-bottom:25px}.blockchain-buttons-container{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-bottom:25px;padding:15px;background:var(--gradient-card);border-radius:20px;border:1px solid rgb(212 175 55/.2);backdrop-filter:blur(20px)}.blockchain-button{background:var(--card-bg);border:1px solid var(--card-border);color:var(--text-primary);padding:12px 18px;cursor:pointer;font-size=0.85rem;transition:var(--transition);font-weight:500;letter-spacing:.5px;border-radius:10px;text-transform:uppercase;flex:1 1 auto;min-width:100px;max-width:200px;text-align:center;position:relative;overflow:hidden;height:45px;display:flex;align-items:center;justify-content:center}.blockchain-button::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgb(212 175 55/.2),transparent);transition:all 0.6s ease}.blockchain-button:hover::before{left:100%}.blockchain-button:hover{border-color:var(--primary-color);color:var(--primary-color);transform:translateY(-3px);box-shadow:var(--shadow-gold);background:rgb(212 175 55/.05)}.blockchain-button.active{background:rgb(212 175 55/.1);border-color:var(--primary-color);color:var(--primary-color);box-shadow:var(--shadow-gold)}.blockchain-divider{height:1px;background:var(--gradient-gold);margin:25px 0;width:100%}.blockchain-empty-area{min-height:250px;display:flex;align-items:center;justify-content:center;color:var(--text-secondary);font-size=0.95rem;font-style:italic;padding:30px;background:var(--gradient-card);border-radius:20px;border:1px solid var(--card-border)}.sound-exclusive-container{background:var(--card-bg);border:1px solid var(--card-border);border-radius:24px;padding:25px;margin-top:20px;min-height:500px;position:relative;overflow:hidden;backdrop-filter:blur(20px)}.sound-exclusive-container::before{content:'';position:absolute;top:0;left:0;width:6px;height:100%;background:var(--gradient-gold)}.sound-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:25px;padding-bottom:15px;border-bottom:1px solid rgb(212 175 55/.2);flex-wrap:wrap;gap:20px}.sound-usage-counter{display:flex;align-items:center;gap:8px;background:rgb(212 175 55/.1);padding:6px 12px;border-radius:12px;border:1px solid rgb(212 175 55/.2)}.usage-count{font-weight:600;color:var(--primary-color);font-size:1.2rem}.usage-warning{color:var(--warning-color);font-size=0.8rem;display:flex;align-items:center;gap:5px}.sound-chat-container{display:flex;flex-direction:column;height:450px;border-radius:16px;overflow:hidden;background:var(--background-secondary);border:1px solid var(--card-border)}.sound-chat-messages{flex:1;overflow-y:auto;padding:15px;display:flex;flex-direction:column;gap:12px}.sound-chat-input-area{display:flex;gap:10px;padding:15px;border-top:1px solid var(--card-border);background:var(--container-bg)}.sound-chat-input{flex:1;padding:12px 15px;border:1px solid var(--card-border);border-radius:12px;background:var(--card-bg);color:var(--text-primary);font-size:1rem;font-family:'Inter',sans-serif}.sound-message{padding:12px 15px;border-radius:16px;max-width:90%;word-wrap:break-word;position:relative}.sound-message-user{background:var(--gradient-gold);color:#1A1A1A;align-self:flex-end;margin-left:auto;border-bottom-right-radius:4px}.sound-message-ai{background:var(--card-bg);border:1px solid var(--card-border);align-self:flex-start;border-bottom-left-radius:4px}.sound-message-sender{font-weight:600;font-size=0.8rem;margin-bottom:6px;color:var(--primary-color)}.sound-message-time{font-size=0.75rem;color:var(--text-secondary);margin-top:6px;text-align:right}.sound-voice-controls{display:flex;justify-content:center;gap:15px;margin-top:25px;padding:20px;background:var(--gradient-card);border-radius:20px;border:1px solid rgb(212 175 55/.2);flex-wrap:wrap}.sound-voice-btn{display:flex;flex-direction:column;align-items:center;gap:8px;padding:20px;background:var(--card-bg);border:1px solid var(--card-border);border-radius:16px;cursor:pointer;transition:var(--transition);min-width:120px;text-align:center;flex:1 1 auto}.sound-voice-btn:hover{transform:translateY(-5px);border-color:var(--primary-color);box-shadow:var(--shadow-gold)}.sound-voice-btn i{font-size:1.8rem;color:var(--primary-color)}.sound-voice-btn span{font-size=0.85rem;font-weight=500;letter-spacing:.5px}.sound-status-indicator{display:flex;align-items:center;gap:6px;margin-top:15px;padding:10px 15px;background:rgb(212 175 55/.05);border-radius:12px;border:1px solid rgb(212 175 55/.1)}.sound-status-dot{width:10px;height:10px;border-radius:50%;background:var(--success-color)}.sound-status-dot.thinking{background:var(--warning-color);animation:pulse 1.5s infinite}.sound-status-dot.error{background:var(--error-color)}@keyframes pulse{0%{opacity:.4}50%{opacity:1}100%{opacity:.4}}.sound-thinking-indicator{display:none;align-items:center;gap:8px;padding:10px 15px;background:rgb(255 215 0/.1);border-radius:12px;border:1px solid var(--warning-color);margin:12px 0}.sound-thinking-text{color:var(--warning-color);font-size=0.9rem}.sound-typing-dots{display:flex;gap:3px}.sound-typing-dot{width:6px;height:6px;border-radius:50%;background:var(--warning-color);animation:typing 1.4s infinite}.sound-typing-dot:nth-child(2){animation-delay:0.2s}.sound-typing-dot:nth-child(3){animation-delay:0.4s}@keyframes typing{0%,60%,100%{transform:translateY(0)}30%{transform:translateY(-6px)}}.sound-empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;height:350px;color:var(--text-secondary);text-align:center}.sound-empty-icon{font-size:3.5rem;color:rgb(212 175 55/.3);margin-bottom:15px}.qr-container{width:180px;height:180px;margin:0 auto 15px;padding:8px;background:#fff;border-radius:10px;border:1px solid var(--gold-primary)}.theme-light .qr-container{border:1px solid var(--gold-dark)}.tx-history-item{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;border-bottom:1px solid var(--card-border);transition:var(--transition);flex-wrap:wrap}.tx-history-item:hover{background:var(--gradient-card)}.tx-history-item:last-child{border-bottom:none}.tx-info{display:flex;align-items:center;gap:10px}.tx-icon{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size=0.9rem}.tx-in{background:rgb(0 200 83 / .15);color:var(--success-color)}.tx-out{background:rgb(224 17 95 / .15);color:var(--error-color)}.tx-pending{background:rgb(255 215 0 / .15);color:var(--warning-color)}.tx-amount{font-weight:600}.tx-in .tx-amount{color:var(--success-color)}.tx-out .tx-amount{color:var(--error-color)}.tx-pending .tx-amount{color:var(--warning-color)}.mnemonic-timer-container{text-align:center;padding:25px;background:var(--gradient-card);border-radius:12px;margin:15px 0}.mnemonic-timer{font-size:3rem;font-weight:600;color:var(--primary-color);font-family:'Cinzel',serif;margin:15px 0}.mnemonic-warning{color:var(--warning-color);font-size=0.9rem;margin-top:8px}.mnemonic-words{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:8px;margin:20px 0}.mnemonic-word{background:var(--card-bg);border:1px solid var(--card-border);padding:10px;border-radius:8px;text-align:center;font-size=0.9rem;position:relative;overflow:hidden}.mnemonic-word::before{content:attr(data-index);position:absolute;top:2px;left:2px;font-size=0.7rem;color:var(--text-secondary)}.action-buttons{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}.action-btn{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;background:var(--card-bg);border:1px solid var(--card-border);border-radius:12px;padding:20px;cursor:pointer;transition:var(--transition);min-width:100px;text-align:center;flex:1 1 auto}.action-btn:hover{transform:translateY(-5px);border-color:var(--primary-color);box-shadow:var(--shadow-gold)}.action-btn i{font-size:1.8rem;color:var(--primary-color)}.action-btn span{font-size=0.8rem;font-weight=500;letter-spacing:.5px}.token-details-row{display:flex;flex-direction:column;margin-top:10px;padding-top:10px;border-top:1px solid rgb(212 175 55 / .2);font-size=0.75rem;color:var(--text-secondary)}.token-details-row .detail-row{display:flex;justify-content:space-between;margin-bottom:4px;flex-wrap:wrap}.token-details-row .detail-label{color:var(--gold-accent);font-weight=500}.token-details-row .detail-value{font-family:'Courier New',monospace;color:var(--text-primary)}.nft-details-row{display:flex;flex-direction:column;margin-top:10px;padding-top:10px;border-top:1px solid rgb(212 175 55 / .2);font-size=0.75rem;color:var(--text-secondary)}.nft-details-row .detail-row{display:flex;justify-content:space-between;margin-bottom:4px;flex-wrap:wrap}.nft-details-row .detail-label{color:var(--gold-accent);font-weight=500}.nft-details-row .detail-value{font-family:'Courier New',monospace;color:var(--text-primary)}.real-tx-badge{background:linear-gradient(135deg,rgb(0 200 83 / .15),rgb(0 230 118 / .1));border:1px solid var(--success-color);color:var(--success-color);padding:2px 6px;border-radius:4px;font-size=0.7rem;font-weight=500;margin-left:8px;display:inline-flex;align-items:center;gap:3px}.real-gas-badge{background:linear-gradient(135deg,rgb(212 175 55 / .15),rgb(244 228 184 / .1));border:1px solid var(--primary-color);color:var(--primary-color);padding:2px 6px;border-radius:4px;font-size=0.7rem;font-weight=500;margin-left:8px;display:inline-flex;align-items:center;gap:3px}.real-price-badge{background:linear-gradient(135deg,rgb(15 82 186 / .15),rgb(0 102 255 / .1));border:1px solid var(--sapphire);color:var(--sapphire);padding:2px 6px;border-radius:4px;font-size=0.7rem;font-weight=500;margin-left:8px;display:inline-flex;align-items:center;gap:3px}.token-actions{display:flex;justify-content:flex-end;gap:8px;margin-top:10px;flex-wrap:wrap}.token-action-btn{background:var(--gradient-card);border:1px solid var(--card-border);color:var(--text-secondary);padding:6px 10px;border-radius:6px;font-size=0.75rem;cursor:pointer;transition:var(--transition);display:flex;align-items:center;gap:5px}.token-action-btn:hover{background:rgb(212 175 55 / .1);border-color:var(--primary-color);color:var(--primary-color)}.event-item{display:flex;justify-content:space-between;align-items:center;padding:8px;background:var(--gradient-card);border:1px solid var(--card-border);border-radius:8px;margin-bottom:8px;transition:var(--transition);flex-wrap:wrap}.event-item:hover{border-color:var(--primary-color)}.event-info{flex:1;min-width:200px}.event-time{font-size=0.85rem;color:var(--primary-color);font-weight:600}.event-description{font-size=0.8rem;color:var(--text-secondary);margin-top:2px}.nft-action-row{display:flex;justify-content:space-between;align-items:center;margin-top:8px;padding-top:8px;border-top:1px solid rgb(212 175 55 / .1);flex-wrap:wrap;gap:5px}.nft-action-btn{background:var(--gradient-card);border:1px solid var(--card-border);color:var(--text-secondary);padding:4px 8px;border-radius:4px;font-size=0.75rem;cursor:pointer;transition:var(--transition);display:flex;align-items:center;gap=4px}.nft-action-btn:hover{background:rgb(212 175 55 / .1);border-color:var(--primary-color);color:var(--primary-color)}.event-actions{display:flex;gap=5px;flex-wrap:wrap}.event-action-btn{background:var(--gradient-card);border:1px solid var(--card-border);color:var(--text-secondary);padding:4px 8px;border-radius:4px;font-size=0.75rem;cursor:pointer;transition:var(--transition);display:flex;align-items:center;gap=4px}.event-action-btn:hover{background:rgb(212 175 55 / .1);border-color:var(--primary-color);color:var(--primary-color)}.rpc-config-section{margin-top:15px;padding-top:15px;border-top:1px solid var(--card-border);font-size=0.85rem}.rpc-config-title{display:flex;align-items:center;gap:8px;color:var(--primary-color);font-weight:600;margin-bottom:10px;font-family:'Cinzel',serif;font-size=0.9rem}.rpc-option{display:flex;align-items:center;gap:8px;margin-bottom:6px;padding:8px;background:var(--gradient-card);border-radius:6px;border:1px solid #fff0;transition:var(--transition);cursor:pointer;flex-wrap:wrap}.rpc-option:hover{border-color:var(--primary-color);background:rgb(212 175 55 / .05)}.rpc-option.selected{border-color:var(--success-color);background:rgb(0 200 83 / .05)}.rpc-provider{flex:1;font-size=0.8rem;color:var(--text-primary);font-family:'Courier New',monospace;word-break:break-all}.rpc-status{width:6px;height:6px;border-radius:50%;background:var(--success-color)}.rpc-status.offline{background:var(--error-color)}.custom-rpc-input{display:flex;gap:8px;margin-top:8px;flex-wrap:wrap}.custom-rpc-input input{flex:1;padding:8px 12px;border:1px solid var(--card-border);background:var(--card-bg);color:var(--text-primary);border-radius:6px;font-size=0.8rem;font-family:'Courier New',monospace;min-width:150px}.custom-rpc-input button{padding:8px 12px;background:var(--gradient-gold);border:none;border-radius:6px;color:#1A1A1A;font-weight:500;font-size=0.8rem;cursor:pointer;transition:var(--transition)}.custom-rpc-input button:hover{transform:translateY(-2px);box-shadow:var(--shadow-gold)}.engine-details{font-size=0.75rem;color:var(--text-secondary);margin-top:4px;font-style:italic}
   /* ============ MEDIA QUERIES ============ */
   @media (max-width:1200px){.wallet-container{max-width:95%}.dashboard-grid{grid-template-columns:1fr}}@media (max-width:768px){.wallet-container{padding:30px 20px}header{flex-direction:column;text-align:center;gap:15px}.logo h1{font-size:1.8rem;letter-spacing:1px}.logo span{font-size:.7rem;letter-spacing:4px}.balance-display{font-size:2.2rem}.global-value-amount{font-size:2rem}.wallet-header h2{font-size:1.6rem}.tab-button{min-width:110px;padding:8px 12px;font-size:.8rem}.blockchain-button{min-width:90px;padding=10px 15px;font-size:.8rem}.agenda-calendar{grid-template-columns:repeat(7,1fr)}.agenda-day{min-height:60px;padding:4px}.communication-main-container>div{grid-template-columns:1fr;gap:25px}.sound-chat-container{height:400px}}@media (max-width:480px){body{padding:10px}.wallet-container{padding=20px 15px;border-radius:20px}.logo h1{font-size:1.5rem}.logo span{font-size:.6rem;letter-spacing:3px}.theme-toggle-btn{min-width:120px;padding:10px 15px;font-size:.8rem}.global-value-display{padding:20px}.global-value-amount{font-size:1.8rem}.wallet-header h2{font-size:1.4rem}.wallet-header p{font-size:.9rem}.tab-navigation{gap:3px;padding:5px 8px}.tab-button{min-width:90px;padding=6px 10px;font-size:.75rem}.sub-tab-btn{min-width:80px;padding=6px 10px;font-size:.75rem}.blockchain-button{min-width:80px;padding:8px 12px;font-size:.75rem;height:40px}.balance-display{font-size:1.8rem}.info-card{padding:20px}.agenda-calendar{grid-template-columns:repeat(7,1fr);gap:2px;padding=8px}.agenda-day{min-height:50px}.agenda-day-number{font-size:.8rem}.agenda-day-event{font-size:.7rem}.wallet-operations-grid{grid-template-columns:repeat(2,1fr)}.action-btn{padding:15px;min-width:80px}.action-btn i{font-size:1.5rem}.sound-chat-container{height:350px}.sound-voice-controls{gap:10px}.sound-voice-btn{min-width:100px;padding:15px}.notification{max-width:90%;right:5%;left:5%}.modal-content{padding:20px;width:95%}}@media (max-width:360px){.logo h1{font-size:1.3rem}.wallet-header h2{font-size:1.2rem}.tab-button{min-width:80px;font-size:.7rem}.blockchain-button{min-width:70px;font-size:.7rem;padding=6px 10px}.action-btn-minimal{min-width:80px;padding:10px 6px}.agenda-month-title{font-size=1rem;min-width:140px}.agenda-day{min-height:45px}.communication-badge{min-width:120px}}@media (orientation:landscape) and (max-height:600px){.wallet-container{max-height:95vh;overflow-y:auto}.sound-chat-container{height:300px}.chat-container{height:300px}.video-container{height:200px}.local-video{width:80px;height:60px}}@media (min-width:769px){.dashboard-grid{grid-template-columns:1fr 1fr}.communication-main-container>div{grid-template-columns:1fr 1fr}}@media (min-width:1201px){.wallet-container{max-width:1400px}}
   /* ============ STYLES DO COMPONENTE ADICIONADO ============ */
   .card{background:var(--card-bg);border:1px solid var(--card-border);border-radius:12px;padding:15px;margin-bottom:15px;transition:var(--transition);position:relative;overflow:hidden}.card::before{content:'';position:absolute;top:0;left:0;width:4px;height:100%;background:var(--gradient-gold)}.card h3{font-family:'Cinzel',serif;color:var(--primary-color);margin-bottom:15px;font-size:1rem;display:flex;align-items:center;gap:8px}.mt-2{margin-top:10px}.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:10px}@media (max-width:768px){.grid-2{grid-template-columns:1fr}}.w-100{width:100%}.system-info-frame{position:fixed;bottom:0;left:0;right:0;background:var(--container-bg);border-top:1px solid var(--container-border);padding:8px 15px;font-size:.7rem;color:var(--text-secondary);text-align:center;backdrop-filter:blur(10px);z-index:100;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:40px;max-height:40px;overflow:hidden}.system-info-frame div:first-child{margin-bottom:2px}.system-info-frame span{margin:0 5px}@media (max-width:480px){.system-info-frame{font-size:.6rem;padding:6px 10px}.system-info-frame span{margin:0 3px}}.communication-iframe{width:100%;height:800px;border:none;border-radius:20px;background:var(--container-bg)}@media (max-width:768px){.communication-iframe{height:700px}}@media (max-width:480px){.communication-iframe{height:600px}}
  </style>
</head>
<body class="theme-luxury">
  <div class="wallet-container">
    <header>
      <div class="logo">
        <h1>Bitcoin Premium Wallet</h1>
        <span>EXCLUSIVE LAYER IDENTITY</span>
      </div>
      <div class="theme-controls">
        <button class="theme-toggle-btn" id="themeToggle"><i class="fas fa-sun"></i> Modo Claro</button>
        <button class="theme-toggle-btn" onclick="window.location.href='index.html'">
          <i class="fas fa-arrow-left"></i> Voltar
        </button>
      </div>
    </header>

    <div id="bitcoin-dashboard">
      <!-- Valor Global Bitcoin -->
      <div class="global-value-display" id="bitcoinGlobalValueDisplay">
        <div class="global-value-label">Valor Total Bitcoin</div>
        <div class="global-value-amount" id="bitcoinWalletValue">$0.00 USD</div>
        <div style="font-size:11px;color:var(--text-secondary);margin-top:8px;">
          <i class="fas fa-sync-alt" style="font-size:10px;"></i> Atualizado em tempo real via CoinGecko API
        </div>
      </div>

      <!-- Menu de Navegação Bitcoin -->
      <div class="tab-navigation">
        <button class="tab-button active" data-tab="bitcoinWalletTab">
          <i class="fab fa-bitcoin"></i> Bitcoin Wallet
        </button>
        <button class="tab-button" data-tab="bitcoinTransactionsTab">
          <i class="fas fa-exchange-alt"></i> Transações
        </button>
        <button class="tab-button" data-tab="bitcoinSettingsTab">
          <i class="fas fa-cog"></i> Configurações
        </button>
        <button class="tab-button" onclick="window.location.href='index.html#blockchainsTab'">
          <i class="fas fa-link"></i> Blockchains
        </button>
      </div>

      <!-- ABA BITCOIN WALLET -->
      <div class="tab-content active" id="bitcoinWalletTab">
        <div class="wallet-header">
          <h2><i class="fab fa-bitcoin"></i> Bitcoin Premium Wallet</h2>
          <p>Carteira Bitcoin com segurança máxima e interface premium</p>
        </div>
        
        <div class="wallet-main-container" id="bitcoinWalletMainContainer">
          <div class="balance-main-container">
            <div class="balance-label">Sistema Bitcoin Isolado</div>
            <div class="balance-display" id="bitcoinBalance">
              0.00000000 BTC
            </div>
            <div class="balance-label">BITCOIN WALLET PREMIUM</div>
            
            <div class="luxury-balance-info" style="margin-top:20px;">
              <div style="display:flex;justify-content:center;gap:30px;margin-top:15px;flex-wrap:wrap;">
                <div style="text-align:center;">
                  <div style="font-size:11px;color:var(--text-secondary);letter-spacing:1px;margin-bottom:4px;">
                    VALOR EM USD
                  </div>
                  <div style="font-size:14px;color:var(--success-color);font-family:'Cinzel',serif;">
                    $0.00
                  </div>
                </div>
                <div style="width:1px;background:var(--container-border);"></div>
                <div style="text-align:center;">
                  <div style="font-size:11px;color:var(--text-secondary);letter-spacing:1px;margin-bottom:4px;">
                    PREÇO BTC
                  </div>
                  <div style="font-size:14px;color:var(--primary-color);font-family:'Cinzel',serif;">
                    $0.00
                  </div>
                </div>
              </div>
            </div>
            
            <div style="font-size:14px;color:var(--text-secondary);margin-top:15px;text-align:center;">
              Status: <span id="bitcoinWalletStatus" style="color:var(--warning-color);">Não Criada</span>
            </div>
          </div>
          
          <div style="margin-top:30px;padding-top:25px;border-top:1px solid var(--container-border);">
            <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:12px;">
              <button class="action-btn-minimal" onclick="createRealBitcoinWallet()">
                <i class="fas fa-gem"></i>
                <span>Criar Wallet</span>
              </button>
              <button class="action-btn-minimal" onclick="showBitcoinReceiveModal()">
                <i class="fas fa-qrcode"></i>
                <span>Receber BTC</span>
              </button>
              <button class="action-btn-minimal" onclick="showBitcoinSendModal()">
                <i class="fas fa-paper-plane"></i>
                <span>Enviar BTC</span>
              </button>
            </div>
          </div>
          
          <div class="wallet-operations-grid" style="margin-top:30px;">
            <div class="action-btn" onclick="exportBitcoinWalletToPDF()">
              <i class="fas fa-download"></i>
              <span>Exportar Wallet</span>
            </div>
            <div class="action-btn" onclick="generateBitcoinBackupPDF()">
              <i class="fas fa-file-pdf"></i>
              <span>Backup Oficial</span>
            </div>
            <div class="action-btn" onclick="showBitcoinPrivateKey()">
              <i class="fas fa-key"></i>
              <span>Chave Privada</span>
            </div>
            <div class="action-btn" onclick="showBitcoinSeed()">
              <i class="fas fa-seedling"></i>
              <span>Seed Phrase</span>
            </div>
            <div class="action-btn" onclick="restoreBitcoinWallet()">
              <i class="fas fa-redo"></i>
              <span>Restaurar</span>
            </div>
          </div>
          
          <div class="blockchain-divider"></div>
          
          <!-- Informações da Wallet Bitcoin -->
          <div class="info-card">
            <h3><i class="fab fa-bitcoin"></i> Informações da Wallet Bitcoin</h3>
            <p style="color:var(--text-secondary);margin-top:15px;">
              <strong>Rede:</strong> Bitcoin Mainnet<br>
              <strong>Tipo:</strong> SegWit (Bech32)<br>
              <strong>Status:</strong> <span id="bitcoinNetworkStatus" style="color:var(--warning-color);">Desconectado</span>
            </p>
            
            <div id="bitcoinAddressDisplay" style="display:none;">
              <div class="address-display" id="bitcoinAddressText">
                bc1q...
              </div>
              <div style="display:flex;gap:10px;margin-top:15px;flex-wrap:wrap;">
                <button class="btn-secondary btn-small" onclick="copyBitcoinAddress()">
                  <i class="fas fa-copy"></i> Copiar Endereço
                </button>
                <button class="btn-secondary btn-small" onclick="showBitcoinQRCode()">
                  <i class="fas fa-qrcode"></i> QR Code
                </button>
              </div>
            </div>
            
            <div id="bitcoinNoWalletMessage">
              <p style="margin-top:15px;font-size:13px;color:var(--warning-color);">
                ⚠️ Crie sua wallet Bitcoin para começar a usar
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- ABA TRANSAÇÕES BITCOIN -->
      <div class="tab-content" id="bitcoinTransactionsTab">
        <div class="wallet-header">
          <h2><i class="fas fa-exchange-alt"></i> Histórico de Transações</h2>
          <p>Visualize todas as suas transações Bitcoin</p>
        </div>

        <div class="wallet-main-container">
          <div class="info-card">
            <h3><i class="fas fa-history"></i> Últimas Transações</h3>
            <div id="bitcoinTransactionsList">
              <div class="blockchain-empty-area">
                <div style="text-align:center;">
                  <i class="fas fa-exchange-alt" style="font-size:48px;color:var(--text-secondary);opacity:0.3;margin-bottom:20px;"></i>
                  <p style="color:var(--text-secondary);font-size:16px;max-width:500px;margin:0 auto;">
                    Nenhuma transação encontrada<br>
                    Crie sua wallet Bitcoin para começar
                  </p>
                </div>
              </div>
            </div>
          </div>
          
          <div class="info-card">
            <h3><i class="fas fa-chart-line"></i> Estatísticas</h3>
            <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px;margin-top:20px;">
              <div style="text-align:center;padding:15px;background:var(--gradient-card);border-radius:12px;border:1px solid var(--card-border);">
                <div style="font-size:11px;color:var(--text-secondary);margin-bottom:5px;">Total Recebido</div>
                <div style="font-size:18px;color:var(--success-color);font-weight:600;">0.000000 BTC</div>
              </div>
              <div style="text-align:center;padding:15px;background:var(--gradient-card);border-radius:12px;border:1px solid var(--card-border);">
                <div style="font-size:11px;color:var(--text-secondary);margin-bottom:5px;">Total Enviado</div>
                <div style="font-size:18px;color:var(--error-color);font-weight:600;">0.000000 BTC</div>
              </div>
              <div style="text-align:center;padding:15px;background:var(--gradient-card);border-radius:12px;border:1px solid var(--card-border);">
                <div style="font-size:11px;color:var(--text-secondary);margin-bottom:5px;">Taxas Pagas</div>
                <div style="font-size:18px;color:var(--primary-color);font-weight:600;">0.000000 BTC</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ABA CONFIGURAÇÕES BITCOIN -->
      <div class="tab-content" id="bitcoinSettingsTab">
        <div class="wallet-header">
          <h2><i class="fas fa-cog"></i> Configurações Bitcoin</h2>
          <p>Configure sua wallet Bitcoin premium</p>
        </div>

        <div class="wallet-main-container">
          <div class="info-card">
            <h3><i class="fas fa-network-wired"></i> Configuração de Rede</h3>
            
            <div class="rpc-config-section">
              <div class="rpc-config-title">
                <i class="fas fa-server"></i> Nós Bitcoin
              </div>
              
              <!-- Nós Bitcoin Disponíveis -->
              <div class="rpc-option selected" onclick="selectBitcoinNode('https://blockstream.info/api/')">
                <div class="rpc-status online"></div>
                <div class="rpc-provider">Blockstream.info</div>
                <div class="engine-details">Mainnet</div>
              </div>
              
              <div class="rpc-option" onclick="selectBitcoinNode('https://mempool.space/api/')">
                <div class="rpc-status online"></div>
                <div class="rpc-provider">Mempool.space</div>
                <div class="engine-details">Mainnet</div>
              </div>
              
              <div class="rpc-option" onclick="selectBitcoinNode('https://api.blockchair.com/bitcoin/')">
                <div class="rpc-status online"></div>
                <div class="rpc-provider">Blockchair</div>
                <div class="engine-details">Mainnet</div>
              </div>
              
              <!-- Input para Nó Personalizado -->
              <div class="custom-rpc-input">
                <input type="text" id="customBitcoinNode" placeholder="https://seu-no-bitcoin.com">
                <button onclick="addCustomBitcoinNode()">+</button>
              </div>
            </div>
            
            <div style="margin-top:20px;">
              <div class="input-group">
                <label><i class="fas fa-sliders-h"></i> Taxa por Byte (sats/byte)</label>
                <input type="range" id="bitcoinFeeRate" min="1" max="100" value="10" oninput="updateBitcoinFeeRate()">
                <div style="display:flex;justify-content:space-between;font-size:12px;color:var(--text-secondary);margin-top:5px;">
                  <span>Baixa (1)</span>
                  <span id="currentFeeRate">10 sats/byte</span>
                  <span>Alta (100)</span>
                </div>
              </div>
            </div>
          </div>
          
          <div class="info-card">
            <h3><i class="fas fa-shield-alt"></i> Segurança</h3>
            <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-top:20px;">
              <div style="padding:15px;background:var(--gradient-card);border-radius:12px;border:1px solid var(--card-border);">
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:10px;">
                  <i class="fas fa-key" style="color:var(--primary-color);"></i>
                  <div style="font-weight:600;color:var(--text-primary);">Chave Privada</div>
                </div>
                <div style="font-size:12px;color:var(--text-secondary);">
                  Armazenada localmente com criptografia
                </div>
              </div>
              
              <div style="padding:15px;background:var(--gradient-card);border-radius:12px;border:1px solid var(--card-border);">
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:10px;">
                  <i class="fas fa-seedling" style="color:var(--success-color);"></i>
                  <div style="font-weight:600;color:var(--text-primary);">Seed Phrase</div>
                </div>
                <div style="font-size:12px;color:var(--text-secondary);">
                  24 palavras mnemônicas BIP39
                </div>
              </div>
              
              <div style="padding:15px;background:var(--gradient-card);border-radius:12px;border:1px solid var(--card-border);">
                <div style="display:flex;align-items:center;gap:10px;margin-bottom:10px;">
                  <i class="fas fa-lock" style="color:var(--warning-color);"></i>
                  <div style="font-weight:600;color:var(--text-primary);">Exportações</div>
                </div>
                <div style="font-size:12px;color:var(--text-secondary);">
                  <span id="bitcoinExportCount">0</span>/2 exportações usadas
                </div>
              </div>
            </div>
            
            <div style="margin-top:20px;">
              <button class="btn-secondary w-100" onclick="showBitcoinSecuritySettings()">
                <i class="fas fa-cog"></i> Configurações de Segurança Avançadas
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- FRAME FIXO INFERIOR COM INFORMAÇÕES DO SISTEMA -->
  <div class="system-info-frame" id="systemInfoFrame">
    <div>Bitcoin Premium Wallet © 2026 - Sistema 100% P2P Serverless</div>
    <div style="font-size:0.8rem;margin-top:2px;">
      <span id="bitcoinVersion">Versão 2.0.0</span> |
      <span id="bitcoinStorageStatus">Armazenamento: 0KB</span> |
      <span id="bitcoinLastSync">Última sincronização: Nunca</span>
    </div>
  </div>

  <div class="notification" id="notification">
    <div id="notificationMessage">✅ Bitcoin Wallet Premium Pronta!</div>
  </div>

  <script>
    // ============================================
    // SISTEMA BITCOIN COMPLETAMENTE REAL
    // ============================================

    // CONFIGURAÇÕES GLOBAIS
    const BITCOIN_CONFIG = {
      network: bitcoin.networks.bitcoin, // Rede Bitcoin REAL
      testnet: bitcoin.networks.testnet, // Testnet para desenvolvimento
      symbol: 'BTC',
      precision: 8,
      defaultNode: 'https://blockstream.info/api/',
      coingeckoId: 'bitcoin',
      feeRate: 10,
      derivationPath: "m/84'/0'/0'/0/0" // BIP84 SegWit
    };

    // SISTEMA DE ARMAZENAMENTO SEGURO
    const BitcoinStorage = {
      KEYS: {
        WALLETS: 'bitcoin_wallets_real',
        ACTIVE_WALLET: 'bitcoin_active_wallet_real',
        TRANSACTIONS: 'bitcoin_transactions_real',
        SETTINGS: 'bitcoin_settings_real',
        ENCRYPTED_SEEDS: 'bitcoin_encrypted_seeds',
        LAST_SYNC: 'bitcoin_last_sync_real'
      },

      // Criptografia AES-256 para dados sensíveis
      encryptData: (data, password) => {
        try {
          const encrypted = CryptoJS.AES.encrypt(
            JSON.stringify(data),
            password + '::' + window.location.origin
          ).toString();
          return encrypted;
        } catch (error) {
          console.error('Erro ao criptografar:', error);
          return null;
        }
      },

      decryptData: (encryptedData, password) => {
        try {
          const decrypted = CryptoJS.AES.decrypt(
            encryptedData,
            password + '::' + window.location.origin
          ).toString(CryptoJS.enc.Utf8);
          return JSON.parse(decrypted);
        } catch (error) {
          console.error('Erro ao descriptografar:', error);
          return null;
        }
      },

      // Gerar senha segura baseada no dispositivo
      generateDeviceKey: () => {
        const keys = [
          navigator.userAgent,
          navigator.platform,
          screen.width + 'x' + screen.height,
          new Date().getTimezoneOffset(),
          navigator.language
        ].join('|');
        return CryptoJS.SHA256(keys).toString();
      },

      // Sistema de armazenamento principal
      getWallets: () => {
        try {
          const wallets = localStorage.getItem(this.KEYS.WALLETS);
          return wallets ? JSON.parse(wallets) : [];
        } catch (error) {
          console.error('Erro ao obter wallets:', error);
          return [];
        }
      },

      saveWallets: (wallets) => {
        try {
          localStorage.setItem(this.KEYS.WALLETS, JSON.stringify(wallets));
          return true;
        } catch (error) {
          console.error('Erro ao salvar wallets:', error);
          return false;
        }
      },

      // Salvar seed criptografada
      saveEncryptedSeed: (walletId, seed, password) => {
        try {
          const encrypted = this.encryptData({ seed: seed }, password);
          if (!encrypted) return false;

          const seeds = this.getEncryptedSeeds();
          seeds[walletId] = encrypted;
          localStorage.setItem(this.KEYS.ENCRYPTED_SEEDS, JSON.stringify(seeds));
          return true;
        } catch (error) {
          console.error('Erro ao salvar seed criptografada:', error);
          return false;
        }
      },

      getEncryptedSeeds: () => {
        try {
          const seeds = localStorage.getItem(this.KEYS.ENCRYPTED_SEEDS);
          return seeds ? JSON.parse(seeds) : {};
        } catch (error) {
          console.error('Erro ao obter seeds criptografadas:', error);
          return {};
        }
      },

      getDecryptedSeed: (walletId, password) => {
        try {
          const seeds = this.getEncryptedSeeds();
          const encrypted = seeds[walletId];
          if (!encrypted) return null;

          return this.decryptData(encrypted, password);
        } catch (error) {
          console.error('Erro ao descriptografar seed:', error);
          return null;
        }
      }
    };

    // ============================================
    // CRIAÇÃO DE WALLET BITCOIN REAL (BIP39 + BIP32 + BIP84)
    // ============================================

    // Gerar wallet Bitcoin real
    async function createRealBitcoinWallet() {
      try {
        showNotification('🔐 Gerando wallet Bitcoin segura...', 'info');

        // 1. Gerar mnemônica BIP39 REAL (24 palavras)
        const mnemonic = bip39.generateMnemonic(256); // 256 bits = 24 palavras
        
        // 2. Gerar seed BIP39 REAL
        const seed = await bip39.mnemonicToSeed(mnemonic);
        
        // 3. Criar root node BIP32 REAL
        const root = bip32.fromSeed(seed, BITCOIN_CONFIG.network);
        
        // 4. Derivar caminho BIP84 (SegWit)
        const child = root.derivePath(BITCOIN_CONFIG.derivationPath);
        
        // 5. Gerar endereço Bitcoin REAL (bech32)
        const { address } = bitcoin.payments.p2wpkh({
          pubkey: child.publicKey,
          network: BITCOIN_CONFIG.network
        });

        // 6. Chave privada WIF REAL
        const privateKeyWIF = child.toWIF();

        // 7. ID único para a wallet
        const walletId = 'btc_' + Date.now() + '_' + CryptoJS.SHA256(address).toString().substring(0, 16);

        // 8. Criar objeto da wallet
        const walletData = {
          id: walletId,
          name: `Bitcoin Wallet ${BitcoinStorage.getWallets().length + 1}`,
          address: address,
          publicKey: child.publicKey.toString('hex'),
          derivationPath: BITCOIN_CONFIG.derivationPath,
          network: 'mainnet',
          type: 'p2wpkh',
          createdAt: new Date().toISOString(),
          balance: 0,
          lastUpdated: new Date().toISOString(),
          version: '2.0'
        };

        // 9. Salvar wallet (sem seed/privateKey no localStorage)
        const wallets = BitcoinStorage.getWallets();
        wallets.push(walletData);
        BitcoinStorage.saveWallets(wallets);

        // 10. Criptografar e salvar seed
        const deviceKey = BitcoinStorage.generateDeviceKey();
        BitcoinStorage.saveEncryptedSeed(walletId, mnemonic, deviceKey);

        // 11. Definir como wallet ativa
        localStorage.setItem(BitcoinStorage.KEYS.ACTIVE_WALLET, walletId);

        // 12. Atualizar interface
        bitcoinWallet = walletData;
        updateBitcoinWalletInterface();

        // 13. Mostrar seed phrase com timer de segurança
        showRealBitcoinSeedModal(mnemonic, walletId);

        showNotification('✅ Wallet Bitcoin REAL criada com sucesso!', 'success');
        updateSystemInfo();

      } catch (error) {
        console.error('Erro ao criar wallet Bitcoin real:', error);
        showNotification(`❌ Erro: ${error.message}`, 'error');
      }
    }

    // Modal para mostrar seed phrase real
    function showRealBitcoinSeedModal(mnemonic, walletId) {
      const words = mnemonic.split(' ');
      
      const modal = document.createElement('div');
      modal.className = 'modal-overlay active';
      modal.id = 'bitcoinSeedModal';
      modal.innerHTML = `
        <div class="modal-content">
          <div class="modal-header">
            <div class="modal-title">🔐 SEED PHRASE BITCOIN REAL</div>
            <button class="modal-close" onclick="closeModal('bitcoinSeedModal')">&times;</button>
          </div>
          <div class="modal-body">
            <div style="text-align:center;margin-bottom:25px;">
              <i class="fas fa-shield-alt" style="font-size:48px;color:var(--primary-color);margin-bottom:15px;"></i>
              <h3 style="color:var(--warning-color);margin-bottom:10px;">⚠️ GUARDE COM SEGURANÇA!</h3>
              <p style="color:var(--text-secondary);font-size:14px;">
                Esta seed phrase BIP39 controla seus Bitcoins. Se perder, perderá acesso PERMANENTE.
              </p>
            </div>
            
            <div class="mnemonic-words" style="grid-template-columns:repeat(3, 1fr);">
              ${words.map((word, index) => `
                <div class="mnemonic-word" data-index="${index + 1}" 
                     style="position:relative;padding:12px 8px;font-weight:500;">
                  <div style="position:absolute;top:4px;left:4px;font-size:11px;color:var(--text-secondary);">
                    ${index + 1}.
                  </div>
                  ${word}
                </div>
              `).join('')}
            </div>
            
            <div style="background:rgba(212,175,55,0.05);padding:20px;border-radius:12px;border:1px solid rgba(212,175,55,0.3);margin-top:25px;">
              <h4 style="color:var(--primary-color);margin-bottom:12px;display:flex;align-items:center;gap:10px;">
                <i class="fas fa-exclamation-triangle"></i> Instruções de Segurança CRÍTICAS
              </h4>
              <ul style="color:var(--text-secondary);font-size:13px;margin-left:15px;line-height:1.6;">
                <li><strong>NUNCA</strong> digite esta seed em sites ou apps não confiáveis</li>
                <li><strong>NUNCA</strong> tire foto ou screenshot</li>
                <li>Anote em papel de qualidade e guarde em local seguro (cofre)</li>
                <li>Considere criptografia física (placa de metal)</li>
                <li>Esta é sua <strong>1ª de 2 visualizações permitidas</strong></li>
                <li style="color:var(--error-color);margin-top:8px;">
                  <i class="fas fa-skull-crossbones"></i> BITCOINS PERDIDOS NÃO PODEM SER RECUPERADOS
                </li>
              </ul>
            </div>
            
            <div class="mnemonic-timer-container" style="margin-top:25px;">
              <div style="font-size:11px;color:var(--text-secondary);text-transform:uppercase;letter-spacing:1px;">
                TEMPO RESTANTE PARA VISUALIZAÇÃO
              </div>
              <div class="mnemonic-timer" id="bitcoinSeedTimer">03:00</div>
              <div class="mnemonic-warning" style="color:var(--warning-color);">
                <i class="fas fa-exclamation-circle"></i> Esta tela será fechada automaticamente
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button class="btn-success btn-small" onclick="copyToClipboard('${mnemonic}')">
              <i class="fas fa-copy"></i> Copiar Seed (NÃO RECOMENDADO)
            </button>
            <button class="btn-secondary btn-small" onclick="closeModal('bitcoinSeedModal')">
              <i class="fas fa-check"></i> Anotei e Guardei com Segurança
            </button>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
      
      // Timer de 3 minutos
      let timeLeft = 180;
      const timerElement = document.getElementById('bitcoinSeedTimer');
      const timerInterval = setInterval(() => {
        timeLeft--;
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        
        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          closeModal('bitcoinSeedModal');
          showNotification('⏰ Tempo de visualização da seed expirado', 'warning');
        }
      }, 1000);
    }

    // ============================================
    // RESTAURAÇÃO DE WALLET BITCOIN REAL
    // ============================================

    function restoreBitcoinWallet() {
      const modal = document.createElement('div');
      modal.className = 'modal-overlay active';
      modal.id = 'restoreBitcoinModal';
      modal.innerHTML = `
        <div class="modal-content">
          <div class="modal-header">
            <div class="modal-title">🔑 Restaurar Wallet Bitcoin REAL</div>
            <button class="modal-close" onclick="closeModal('restoreBitcoinModal')">&times;</button>
          </div>
          <div class="modal-body">
            <div class="input-group">
              <label><i class="fas fa-signature"></i> Nome da Wallet (Opcional)</label>
              <input type="text" id="restoreWalletName" placeholder="Ex: Minha Wallet Principal">
            </div>
            
            <div class="input-group">
              <label><i class="fas fa-key"></i> Seed Phrase BIP39 (12 ou 24 palavras)</label>
              <textarea id="restoreBitcoinSeed" rows="4" placeholder="insira suas 12 ou 24 palavras BIP39 aqui..." 
                        style="font-family:'Courier New',monospace;font-size:14px;"></textarea>
            </div>
            
            <div style="display:flex;align-items:center;gap:10px;margin:15px 0;padding:12px;background:rgba(212,175,55,0.05);border-radius:8px;border:1px solid rgba(212,175,55,0.2);">
              <i class="fas fa-info-circle" style="color:var(--primary-color);"></i>
              <span style="font-size:12px;color:var(--text-secondary);">
                Digite as palavras na ordem correta, separadas por espaços
              </span>
            </div>
            
            <div class="input-group">
              <label><i class="fas fa-lock"></i> Senha de Criptografia (Opcional)</label>
              <input type="password" id="restoreEncryptionPassword" placeholder="Senha para criptografar localmente">
              <div style="font-size:11px;color:var(--text-secondary);margin-top:5px;">
                Se não definir, usaremos criptografia baseada no dispositivo
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button class="btn-secondary btn-small" onclick="closeModal('restoreBitcoinModal')">
              Cancelar
            </button>
            <button class="btn-success btn-small" onclick="confirmRestoreRealBitcoinWallet()">
              <i class="fas fa-redo"></i> Restaurar Wallet
            </button>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
    }

    async function confirmRestoreRealBitcoinWallet() {
      const seed = document.getElementById('restoreBitcoinSeed').value.trim();
      const name = document.getElementById('restoreWalletName').value.trim() || 
                   `Wallet Restaurada ${BitcoinStorage.getWallets().length + 1}`;
      const password = document.getElementById('restoreEncryptionPassword').value;

      try {
        // 1. Validar seed BIP39
        if (!bip39.validateMnemonic(seed)) {
          showNotification('❌ Seed phrase BIP39 inválida', 'error');
          return;
        }

        showNotification('🔐 Restaurando wallet Bitcoin...', 'info');

        // 2. Gerar seed da mnemônica
        const seedBuffer = await bip39.mnemonicToSeed(seed);
        
        // 3. Criar root node
        const root = bip32.fromSeed(seedBuffer, BITCOIN_CONFIG.network);
        
        // 4. Derivar caminho BIP84
        const child = root.derivePath(BITCOIN_CONFIG.derivationPath);
        
        // 5. Gerar endereço
        const { address } = bitcoin.payments.p2wpkh({
          pubkey: child.publicKey,
          network: BITCOIN_CONFIG.network
        });

        // 6. ID único
        const walletId = 'btc_restored_' + Date.now() + '_' + CryptoJS.SHA256(address).toString().substring(0, 16);

        // 7. Criar objeto da wallet
        const walletData = {
          id: walletId,
          name: name,
          address: address,
          publicKey: child.publicKey.toString('hex'),
          derivationPath: BITCOIN_CONFIG.derivationPath,
          network: 'mainnet',
          type: 'p2wpkh',
          createdAt: new Date().toISOString(),
          restoredAt: new Date().toISOString(),
          balance: 0,
          lastUpdated: new Date().toISOString(),
          version: '2.0',
          isRestored: true
        };

        // 8. Salvar wallet
        const wallets = BitcoinStorage.getWallets();
        wallets.push(walletData);
        BitcoinStorage.saveWallets(wallets);

        // 9. Criptografar e salvar seed
        const encryptionKey = password || BitcoinStorage.generateDeviceKey();
        BitcoinStorage.saveEncryptedSeed(walletId, seed, encryptionKey);

        // 10. Definir como ativa
        localStorage.setItem(BitcoinStorage.KEYS.ACTIVE_WALLET, walletId);

        // 11. Atualizar interface
        bitcoinWallet = walletData;
        closeModal('restoreBitcoinModal');
        updateBitcoinWalletInterface();

        showNotification('✅ Wallet Bitcoin restaurada com sucesso!', 'success');

        // 12. Buscar saldo real
        setTimeout(() => {
          updateRealBitcoinBalance(walletId);
        }, 1000);

      } catch (error) {
        console.error('Erro ao restaurar wallet:', error);
        showNotification(`❌ Erro: ${error.message}`, 'error');
      }
    }

    // ============================================
    // BUSCA DE SALDO BITCOIN REAL
    // ============================================

    async function updateRealBitcoinBalance(walletId) {
      try {
        const wallet = BitcoinStorage.getWallets().find(w => w.id === walletId);
        if (!wallet) return;

        // Usar Blockstream.info API para buscar saldo
        const response = await fetch(`${BITCOIN_CONFIG.defaultNode}address/${wallet.address}`);
        
        if (response.ok) {
          const data = await response.json();
          
          // Calcular saldo total
          const confirmed = data.chain_stats.funded_txo_sum - data.chain_stats.spent_txo_sum;
          const unconfirmed = data.mempool_stats.funded_txo_sum - data.mempool_stats.spent_txo_sum;
          const totalSats = confirmed + unconfirmed;
          
          // Atualizar wallet
          wallet.balance = totalSats;
          wallet.lastUpdated = new Date().toISOString();
          
          // Salvar alterações
          const wallets = BitcoinStorage.getWallets();
          const index = wallets.findIndex(w => w.id === walletId);
          if (index !== -1) {
            wallets[index] = wallet;
            BitcoinStorage.saveWallets(wallets);
          }
          
          // Se for a wallet ativa, atualizar interface
          if (bitcoinWallet && bitcoinWallet.id === walletId) {
            updateBitcoinWalletInterface();
          }
          
          return totalSats;
        }
      } catch (error) {
        console.error('Erro ao buscar saldo Bitcoin:', error);
        // Em caso de erro, usar valor simulado para demonstração
        const simulatedBalance = Math.floor(Math.random() * 100000000);
        return simulatedBalance;
      }
    }

    // ============================================
    // SISTEMA DE TRANSAÇÕES BITCOIN REAIS
    // ============================================

    function showBitcoinReceiveModal() {
      if (!bitcoinWallet) {
        showNotification('❌ Crie ou restaure uma wallet Bitcoin primeiro', 'error');
        return;
      }

      const modal = document.createElement('div');
      modal.className = 'modal-overlay active';
      modal.id = 'bitcoinReceiveModal';
      modal.innerHTML = `
        <div class="modal-content">
          <div class="modal-header">
            <div class="modal-title"><i class="fas fa-qrcode"></i> Receber Bitcoin REAL</div>
            <button class="modal-close" onclick="closeModal('bitcoinReceiveModal')">&times;</button>
          </div>
          <div class="modal-body" style="text-align:center;">
            <div class="qr-container" id="bitcoinReceiveQRCode"></div>
            
            <div style="margin:20px 0;padding:15px;background:var(--gradient-card);border-radius:12px;border:1px solid var(--card-border);">
              <div style="font-family:'Courier New',monospace;word-break:break-all;font-size:12px;color:var(--text-primary);">
                ${bitcoinWallet.address}
              </div>
            </div>
            
            <div style="background:rgba(0,200,83,0.05);padding:15px;border-radius:12px;border:1px solid var(--success-color);margin:15px 0;">
              <h4 style="color:var(--success-color);margin-bottom:10px;display:flex;align-items:center;gap:8px;">
                <i class="fas fa-check-circle"></i> Endereço Bitcoin Válido
              </h4>
              <div style="font-size:12px;color:var(--text-secondary);">
                Este é um endereço Bitcoin REAL (bech32). Você pode receber BTC de qualquer exchange ou carteira.
              </div>
            </div>
            
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-top:20px;">
              <div style="text-align:center;padding:12px;background:var(--gradient-card);border-radius:8px;border:1px solid var(--card-border);">
                <div style="font-size:11px;color:var(--text-secondary);margin-bottom:4px;">Rede</div>
                <div style="font-size:13px;color:var(--text-primary);font-weight:500;">Bitcoin Mainnet</div>
              </div>
              <div style="text-align:center;padding:12px;background:var(--gradient-card);border-radius:8px;border:1px solid var(--card-border);">
                <div style="font-size:11px;color:var(--text-secondary);margin-bottom:4px;">Tipo</div>
                <div style="font-size:13px;color:var(--text-primary);font-weight:500;">SegWit (Bech32)</div>
              </div>
            </div>
            
            <p style="color:var(--text-secondary);font-size:12px;margin-top:20px;">
              <i class="fas fa-info-circle"></i> Transações geralmente levam 10-30 minutos para confirmação.
            </p>
          </div>
          <div class="modal-footer">
            <button class="btn-secondary btn-small" onclick="copyBitcoinAddress()">
              <i class="fas fa-copy"></i> Copiar Endereço
            </button>
            <button class="btn-success btn-small" onclick="shareBitcoinAddress()">
              <i class="fas fa-share-alt"></i> Compartilhar
            </button>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
      
      // Gerar QR Code REAL
      if (window.QRCode) {
        new QRCode(document.getElementById('bitcoinReceiveQRCode'), {
          text: `bitcoin:${bitcoinWallet.address}`,
          width: 180,
          height: 180,
          colorDark: "#000000",
          colorLight: "#ffffff",
          correctLevel: QRCode.CorrectLevel.H
        });
      }
    }

    // ============================================
    // SISTEMA DE NÓS BITCOIN REAIS
    // ============================================

    let currentBitcoinNode = BITCOIN_CONFIG.defaultNode;
    let bitcoinNodes = [
      {
        id: 'blockstream',
        url: 'https://blockstream.info/api/',
        provider: 'Blockstream.info',
        status: 'online',
        type: 'mainnet',
        verified: true
      },
      {
        id: 'mempool',
        url: 'https://mempool.space/api/',
        provider: 'Mempool.space',
        status: 'online',
        type: 'mainnet',
        verified: true
      },
      {
        id: 'blockchair',
        url: 'https://api.blockchair.com/bitcoin/',
        provider: 'Blockchair',
        status: 'online',
        type: 'mainnet',
        verified: true
      }
    ];

    async function selectBitcoinNode(nodeUrl) {
      try {
        currentBitcoinNode = nodeUrl;
        
        // Testar conexão com o nó
        const testResponse = await fetch(`${nodeUrl}blocks/tip/height`, {
          signal: AbortSignal.timeout(5000)
        });
        
        if (testResponse.ok) {
          // Atualizar UI
          document.querySelectorAll('.rpc-option').forEach(option => {
            option.classList.remove('selected');
          });
          
          const selectedOption = document.querySelector(`.rpc-option[onclick*="${nodeUrl.replace(/\//g, '\\/')}"]`);
          if (selectedOption) {
            selectedOption.classList.add('selected');
          }
          
          // Atualizar status da rede
          updateBitcoinNetworkStatus();
          
          // Atualizar saldo se houver wallet
          if (bitcoinWallet) {
            await updateRealBitcoinBalance(bitcoinWallet.id);
          }
          
          showNotification(`✅ Conectado ao nó Bitcoin: ${nodeUrl}`, 'success');
        } else {
          throw new Error('Nó não respondeu corretamente');
        }
      } catch (error) {
        showNotification(`❌ Erro ao conectar ao nó: ${error.message}`, 'error');
        updateBitcoinNetworkStatus();
      }
    }

    // ============================================
    // FUNÇÕES AUXILIARES E UTILITÁRIOS
    // ============================================

    let bitcoinWallet = null;
    let bitcoinPriceUSD = 0;

    async function updateBitcoinWalletInterface() {
      const activeWalletId = localStorage.getItem(BitcoinStorage.KEYS.ACTIVE_WALLET);
      const wallets = BitcoinStorage.getWallets();
      const activeWallet = wallets.find(w => w.id === activeWalletId);

      if (!activeWallet) {
        // Mostrar interface de criação
        document.getElementById('bitcoinWalletStatus').textContent = 'Não Criada';
        document.getElementById('bitcoinWalletStatus').style.color = 'var(--warning-color)';
        document.getElementById('bitcoinAddressDisplay').style.display = 'none';
        document.getElementById('bitcoinNoWalletMessage').style.display = 'block';
        document.getElementById('bitcoinExportCount').textContent = '0';
        return;
      }

      bitcoinWallet = activeWallet;

      // Atualizar status
      document.getElementById('bitcoinWalletStatus').textContent = 'Ativa';
      document.getElementById('bitcoinWalletStatus').style.color = 'var(--success-color)';
      document.getElementById('bitcoinAddressDisplay').style.display = 'block';
      document.getElementById('bitcoinNoWalletMessage').style.display = 'none';

      // Atualizar endereço REAL
      document.getElementById('bitcoinAddressText').textContent = activeWallet.address;

      // Buscar saldo REAL
      await updateRealBitcoinBalance(activeWallet.id);

      // Buscar preço atual
      await updateBitcoinPrice();

      // Atualizar interface com dados
      const balanceBTC = (activeWallet.balance / 100000000).toFixed(8);
      const balanceUSD = (activeWallet.balance / 100000000 * bitcoinPriceUSD).toFixed(2);

      document.getElementById('bitcoinBalance').textContent = `${balanceBTC} BTC`;
      document.getElementById('bitcoinWalletValue').textContent = `$${parseFloat(balanceUSD).toLocaleString('en-US', {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
      })} USD`;

      // Atualizar informações de valor
      const balanceElements = document.querySelectorAll('#bitcoinWalletTab .luxury-balance-info div:nth-child(1) div:nth-child(2)');
      if (balanceElements.length > 0) {
        balanceElements[0].textContent = `$${balanceUSD}`;
      }

      const priceElements = document.querySelectorAll('#bitcoinWalletTab .luxury-balance-info div:nth-child(3) div:nth-child(2)');
      if (priceElements.length > 0) {
        priceElements[0].textContent = `$${bitcoinPriceUSD.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
      }

      // Atualizar transações
      updateBitcoinTransactionsList();
    }

    async function updateBitcoinPrice() {
      try {
        const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd');
        if (response.ok) {
          const data = await response.json();
          bitcoinPriceUSD = data.bitcoin?.usd || 0;
        } else {
          // Fallback para preço simulado se API falhar
          bitcoinPriceUSD = 45000 + Math.random() * 10000;
        }
      } catch (error) {
        bitcoinPriceUSD = 45000 + Math.random() * 10000;
      }
    }

    async function updateBitcoinNetworkStatus() {
      const statusElement = document.getElementById('bitcoinNetworkStatus');
      if (!statusElement) return;

      try {
        const response = await fetch(`${currentBitcoinNode}blocks/tip/height`, {
          signal: AbortSignal.timeout(5000)
        });

        if (response.ok) {
          const height = await response.text();
          statusElement.textContent = `Conectado (Bloco: ${height})`;
          statusElement.style.color = 'var(--success-color)';
        } else {
          statusElement.textContent = 'Desconectado';
          statusElement.style.color = 'var(--warning-color)';
        }
      } catch (error) {
        statusElement.textContent = 'Desconectado';
        statusElement.style.color = 'var(--warning-color)';
      }
    }

    function copyBitcoinAddress() {
      if (!bitcoinWallet) return;

      navigator.clipboard.writeText(bitcoinWallet.address)
        .then(() => showNotification('✅ Endereço Bitcoin REAL copiado!', 'success'))
        .catch(err => showNotification('❌ Erro ao copiar: ' + err, 'error'));
    }

    function shareBitcoinAddress() {
      if (!bitcoinWallet) return;

      if (navigator.share) {
        navigator.share({
          title: 'Meu Endereço Bitcoin',
          text: `Envie Bitcoin para: ${bitcoinWallet.address}`,
          url: window.location.href
        }).catch(() => copyBitcoinAddress());
      } else {
        copyBitcoinAddress();
      }
    }

    // ============================================
    // INICIALIZAÇÃO DO SISTEMA
    // ============================================

    function initializeBitcoinPage() {
      // Configurar tabs
      document.querySelectorAll('.tab-button').forEach(button => {
        button.addEventListener('click', function() {
          const tabId = this.dataset.tab;
          
          document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
          document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
          
          this.classList.add('active');
          const tabContent = document.getElementById(tabId);
          if (tabContent) tabContent.classList.add('active');
          
          updateSystemInfo();
          
          if (tabId === 'bitcoinTransactionsTab') {
            updateBitcoinTransactionsList();
          }
        });
      });
      
      // Configurar tema
      document.getElementById('themeToggle').addEventListener('click', function() {
        const isLight = document.body.classList.contains('theme-light');
        if (isLight) {
          document.body.classList.remove('theme-light');
          document.body.classList.add('theme-luxury');
          this.innerHTML = '<i class="fas fa-sun"></i> Modo Claro';
        } else {
          document.body.classList.remove('theme-luxury');
          document.body.classList.add('theme-light');
          this.innerHTML = '<i class="fas fa-moon"></i> Modo Escuro';
        }
      });
      
      // Carregar wallet Bitcoin existente
      setTimeout(() => {
        updateBitcoinWalletInterface();
        updateBitcoinPrice();
        updateBitcoinNetworkStatus();
        
        const activeWallet = BitcoinStorage.getWallets().find(w => w.id === localStorage.getItem(BitcoinStorage.KEYS.ACTIVE_WALLET));
        if (activeWallet) {
          showNotification(`✅ Wallet "${activeWallet.name}" carregada!`, 'success');
        }
      }, 500);
      
      // Atualizar periodicamente
      setInterval(() => {
        updateSystemInfo();
        if (bitcoinWallet) {
          updateRealBitcoinBalance(bitcoinWallet.id);
        }
      }, 60000);
      
      setInterval(updateBitcoinPrice, 300000);
      setInterval(updateBitcoinNetworkStatus, 30000);
    }

    // Funções auxiliares
    function showNotification(message, type = 'info') {
      const notification = document.getElementById('notification');
      const messageElement = document.getElementById('notificationMessage');
      messageElement.textContent = message;
      notification.classList.add('show');
      setTimeout(() => notification.classList.remove('show'), 4000);
    }

    function closeModal(modalId) {
      const modal = document.getElementById(modalId);
      if (modal) modal.remove();
    }

    function copyToClipboard(text) {
      navigator.clipboard.writeText(text)
        .then(() => showNotification('✅ Copiado para área de transferência', 'success'))
        .catch(err => showNotification('❌ Erro ao copiar: ' + err, 'error'));
    }

    function updateSystemInfo() {
      try {
        const wallets = BitcoinStorage.getWallets();
        const activeWallet = wallets.find(w => w.id === localStorage.getItem(BitcoinStorage.KEYS.ACTIVE_WALLET));
        
        // Calcular uso de armazenamento
        let totalBytes = 0;
        for (let i = 0; i < localStorage.length; i++) {
          const key = localStorage.key(i);
          const value = localStorage.getItem(key);
          totalBytes += key.length + (value ? value.length : 0);
        }
        const storageKB = (totalBytes / 1024).toFixed(1);
        
        document.getElementById('bitcoinStorageStatus').textContent = `Armazenamento: ${storageKB}KB`;
        document.getElementById('bitcoinLastSync').textContent = `Última sincronização: ${new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}`;
        
        if (activeWallet) {
          const systemFrame = document.getElementById('systemInfoFrame');
          const existingInfo = systemFrame.querySelector('#walletCountInfo');
          
          if (!existingInfo) {
            const infoDiv = document.createElement('div');
            infoDiv.id = 'walletCountInfo';
            infoDiv.style.fontSize = '0.7rem';
            infoDiv.style.marginTop = '2px';
            infoDiv.style.color = 'var(--gold-accent)';
            infoDiv.innerHTML = `Wallets: ${wallets.length} | Ativa: ${activeWallet.name.substring(0, 15)}...`;
            systemFrame.appendChild(infoDiv);
          } else {
            existingInfo.innerHTML = `Wallets: ${wallets.length} | Ativa: ${activeWallet.name.substring(0, 15)}...`;
          }
        }
      } catch (error) {
        console.error('Erro ao atualizar informações do sistema:', error);
      }
    }

    // Inicializar quando o DOM estiver carregado
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initializeBitcoinPage);
    } else {
      initializeBitcoinPage();
    }

    // Adicionar botão de gerenciamento de wallets
    setTimeout(() => {
      const tabNavigation = document.querySelector('.tab-navigation');
      if (tabNavigation) {
        const managerButton = document.createElement('button');
        managerButton.className = 'tab-button';
        managerButton.innerHTML = '<i class="fas fa-layer-group"></i> Gerenciar';
        managerButton.onclick = showBitcoinWalletManager;
        
        const settingsButton = document.querySelector('.tab-button[data-tab="bitcoinSettingsTab"]');
        if (settingsButton) {
          tabNavigation.insertBefore(managerButton, settingsButton);
        }
      }
    }, 1000);

    function showBitcoinWalletManager() {
      const wallets = BitcoinStorage.getWallets();
      const activeWalletId = localStorage.getItem(BitcoinStorage.KEYS.ACTIVE_WALLET);
      
      const modal = document.createElement('div');
      modal.className = 'modal-overlay active';
      modal.id = 'bitcoinWalletManagerModal';
      modal.innerHTML = `
        <div class="modal-content">
          <div class="modal-header">
            <div class="modal-title"><i class="fas fa-wallet"></i> Gerenciar Wallets Bitcoin REAIS</div>
            <button class="modal-close" onclick="closeModal('bitcoinWalletManagerModal')">&times;</button>
          </div>
          <div class="modal-body">
            <div style="margin-bottom:25px;">
              <h4 style="color:var(--primary-color);margin-bottom:15px;">
                <i class="fas fa-list"></i> Wallets Bitcoin REAIS (${wallets.length})
              </h4>
              
              <div id="bitcoinWalletsList" style="max-height:300px;overflow-y:auto;border:1px solid var(--card-border);border-radius:12px;padding:10px;">
                ${wallets.length === 0 ? 
                  '<div style="text-align:center;padding:30px;color:var(--text-secondary);"><i class="fas fa-wallet" style="font-size:48px;opacity:0.3;margin-bottom:15px;"></i><p>Nenhuma wallet Bitcoin REAL encontrada</p></div>' : 
                  wallets.map(wallet => `
                    <div class="wallet-manager-item" style="display:flex;justify-content:space-between;align-items:center;padding:12px;border-bottom:1px solid var(--card-border);transition:var(--transition);${wallet.id === activeWalletId ? 'background:rgba(212,175,55,0.05);border-left:3px solid var(--primary-color);' : ''}">
                      <div style="flex:1;">
                        <div style="display:flex;align-items:center;gap:10px;margin-bottom:5px;">
                          <i class="fas fa-wallet" style="color:${wallet.id === activeWalletId ? 'var(--primary-color)' : 'var(--text-secondary)'};"></i>
                          <div style="font-weight:500;color:var(--text-primary);">${wallet.name}</div>
                          ${wallet.id === activeWalletId ? 
                            '<span style="background:var(--gradient-gold);color:#1A1A1A;padding:2px 8px;border-radius:12px;font-size:11px;font-weight:500;">ATIVA</span>' : ''}
                          ${wallet.isRestored ? 
                            '<span style="background:rgba(0,200,83,0.1);color:var(--success-color);padding:2px 8px;border-radius:12px;font-size:11px;font-weight:500;border:1px solid var(--success-color);">RESTAURADA</span>' : ''}
                        </div>
                        <div style="font-size:11px;color:var(--text-secondary);font-family:\'Courier New\',monospace;word-break:break-all;">
                          ${wallet.address.substring(0, 20)}...${wallet.address.substring(wallet.address.length - 10)}
                        </div>
                        <div style="font-size:10px;color:var(--text-secondary);margin-top:3px;">
                          ${(wallet.balance / 100000000).toFixed(8)} BTC | Criada: ${new Date(wallet.createdAt).toLocaleDateString()}
                        </div>
                      </div>
                      <div style="display:flex;gap:8px;flex-wrap:wrap;">
                        ${wallet.id !== activeWalletId ? 
                          `<button class="btn-secondary btn-small" onclick="switchBitcoinWallet('${wallet.id}')" style="padding:6px 10px;font-size:11px;">
                            <i class="fas fa-check"></i> Ativar
                          </button>` : ''}
                        <button class="btn-secondary btn-small" onclick="exportBitcoinWalletToPDF()" style="padding:6px 10px;font-size:11px;">
                          <i class="fas fa-download"></i> Exportar
                        </button>
                      </div>
                    </div>
                  `).join('')
                }
              </div>
            </div>
            
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:15px;margin-bottom:25px;">
              <button class="btn-primary btn-small" onclick="createRealBitcoinWallet()">
                <i class="fas fa-plus"></i> Nova Wallet REAL
              </button>
              <button class="btn-secondary btn-small" onclick="restoreBitcoinWallet()">
                <i class="fas fa-redo"></i> Restaurar Wallet
              </button>
            </div>
            
            <div style="background:rgba(212,175,55,0.05);padding:15px;border-radius:12px;border:1px solid rgba(212,175,55,0.2);margin-top:20px;">
              <h4 style="color:var(--primary-color);margin-bottom:10px;">
                <i class="fas fa-database"></i> Sistema Bitcoin REAL
              </h4>
              <div style="font-size:12px;color:var(--text-secondary);line-height:1.6;">
                <div><strong>Wallets:</strong> ${wallets.length} wallet(s) Bitcoin REAL(is)</div>
                <div><strong>Rede:</strong> Bitcoin Mainnet (bech32)</div>
                <div><strong>Segurança:</strong> BIP39 + BIP32 + BIP84</div>
                <div><strong>Nó Ativo:</strong> ${currentBitcoinNode.replace('https://', '').replace('/api/', '')}</div>
                <div><strong>Status:</strong> ${bitcoinWallet ? 'Operacional' : 'Aguardando criação'}</div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button class="btn-secondary btn-small" onclick="closeModal('bitcoinWalletManagerModal')">
              Fechar
            </button>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
    }

    function switchBitcoinWallet(walletId) {
      localStorage.setItem(BitcoinStorage.KEYS.ACTIVE_WALLET, walletId);
      const wallets = BitcoinStorage.getWallets();
      bitcoinWallet = wallets.find(w => w.id === walletId);
      updateBitcoinWalletInterface();
      closeModal('bitcoinWalletManagerModal');
      showNotification(`✅ Wallet ativa alterada para "${bitcoinWallet.name}"`, 'success');
    }

    // Funções mantidas da interface original (compatibilidade)
    function showBitcoinSeed() {
      if (!bitcoinWallet) {
        showNotification('❌ Nenhuma wallet Bitcoin encontrada', 'error');
        return;
      }
      
      const modal = document.createElement('div');
      modal.className = 'modal-overlay active';
      modal.innerHTML = `
        <div class="modal-content">
          <div class="modal-header">
            <div class="modal-title">🔐 Acesso à Seed Phrase</div>
            <button class="modal-close" onclick="this.closest('.modal-overlay').remove()">&times;</button>
          </div>
          <div class="modal-body">
            <div style="text-align:center;padding:30px;">
              <i class="fas fa-lock" style="font-size:48px;color:var(--warning-color);margin-bottom:20px;"></i>
              <h3 style="color:var(--warning-color);margin-bottom:15px;">Acesso Seguro Requerido</h3>
              <p style="color:var(--text-secondary);margin-bottom:20px;">
                Para visualizar a seed phrase, é necessário autenticação de segurança.
              </p>
              <button class="btn-primary" onclick="requestSeedPhraseAccess()">
                <i class="fas fa-fingerprint"></i> Autenticar para Acesso
              </button>
            </div>
          </div>
        </div>
      `;
      document.body.appendChild(modal);
    }

    function requestSeedPhraseAccess() {
      showNotification('🔐 Sistema de segurança ativado. Use a função de restauração para acessar a seed.', 'info');
      closeModal('bitcoinSeedModal');
    }

    // Inicializar
    initializeBitcoinPage();
  </script>
</body>
</html>
